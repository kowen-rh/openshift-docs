// Module included in the following assemblies:
//
// * TODO: add backup-and-restore/ assembly
// * etcd/etcd-backup-restore/replace-healthy-etcd-member.adoc

:_mod-docs-content-type: PROCEDURE
[id="replacing-etcd-member-machine-api_{context}"]
= Replacing an etcd member with the Machine API

With the Machine API and a `ControlPlaneMachineSet` (CPMS), the machine for the node to be replaced can be deleted and the cluster will scale automatically.

.Prerequisites

* The cluster has access to the Machine API.
* The cluster has a CPMS.
* Install the {oc-first}.
* Log in to `oc` as a user with `cluster-admin` permission.

.Procedure

. View the machines that are in the cluster by running the following command:
+
[source,terminal]
----
$ oc get machine -n openshift-machine-api
----
+
The command output contains a list of machines in the `<clusterid>-<role>-<cloud_region>` format.

. Identify the machine that you want to delete.

. Delete the machine by running the following command:
+
[source,terminal]
----
$ oc delete machine <machine> -n openshift-machine-api
----

// Do we need verification steps here?

// Resources:
//   https://docs.redhat.com/en/documentation/openshift_container_platform/4.20/html/machine_management/managing-control-plane-machines#cpmso-limitations_cpmso-about